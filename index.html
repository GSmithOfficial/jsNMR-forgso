<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive NMR Viewer</title>
    <!-- jsNMR Styles -->
    <link rel="stylesheet" href="./examples/style.css">
    <!-- Avoid favicon error -->
    <link rel="icon" href="data:,">
    
    <!-- Load all dependencies directly -->
    <script src="./lib/components/jquery/dist/jquery.min.js"></script>
    <script src="./lib/components/jsgraph/dist/jsgraph.js"></script>
    <script src="./lib/components/jcampconverter/build/jcampconverter.js"></script>
    <script src="./dist/jsnmr.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if each required library is loaded
            if (typeof $ === 'undefined') {
                console.error("jQuery not loaded");
                showError("jQuery library could not be loaded");
                return;
            }
            
            if (typeof JSGraph === 'undefined') {
                console.error("JSGraph not loaded");
                showError("JSGraph library could not be loaded");
                return;
            }
            
            if (typeof JcampConverter === 'undefined') {
                console.error("JcampConverter not loaded");
                showError("JcampConverter library could not be loaded");
                return;
            }
            
            if (typeof jsNMR === 'undefined') {
                console.error("jsNMR not loaded");
                showError("jsNMR library could not be loaded");
                return;
            }
            
            // Initialize jsNMR if all libraries are loaded
            try {
                jsNMR.init('nmr-container', {
                    spectrum: './test/121-97-1_hsqcetgp.jdx'
                });
                
                console.log("jsNMR initialized successfully");
            } catch (e) {
                console.error("Error initializing jsNMR:", e);
                showError("Error initializing jsNMR: " + e.message);
            }
        });
        
        function showError(message) {
            document.getElementById('nmr-container').innerHTML = 
                '<div style="color: red; padding: 20px;">' +
                '<h3>Error</h3>' +
                '<p>' + message + '</p>' +
                '<p>Check the browser console for more details.</p>' +
                '</div>';
        }
    </script>
</head>
<body>
    <h1>Interactive NMR Spectrum Viewer</h1>
    <div id="nmr-container" style="width: 800px; height: 500px; border: 1px solid #ccc;"></div>
</body>
</html>