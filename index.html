<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive NMR Viewer</title>
    <!-- Add an inline favicon to prevent 404 -->
    <link rel="icon" href="data:,">
    <!-- jsNMR Styles -->
    <link rel="stylesheet" href="./examples/style.css">
    
    <!-- Load each library separately and in the correct order -->
    <script src="./lib/components/jquery/dist/jquery.min.js"></script>
    
    <!-- Make sure the Graph dependency is loaded before jsNMR -->
    <script src="./lib/components/jsgraph/dist/jsgraph.js"></script>
    
    <!-- Load JcampConverter before jsNMR -->
    <script src="./lib/components/jcampconverter/build/jcampconverter.js"></script>
    
    <!-- Load jsNMR last -->
    <script src="./dist/jsnmr.js"></script>
    
    <script>
        // Wait for everything to load
        window.onload = function() {
            // Verify libraries are loaded
            if (typeof jQuery === 'undefined') {
                console.error("jQuery not loaded");
                return;
            }
            
            // Check if the main library is available
            if (typeof jsNMR === 'undefined') {
                console.error("jsNMR not loaded");
                return;
            }
            
            // Initialize jsNMR
            try {
                console.log("Attempting to initialize jsNMR...");
                jsNMR.init('nmr-container', {
                    spectrum: './test/121-97-1_hsqcetgp.jdx'
                });
            } catch (e) {
                console.error("Error initializing jsNMR:", e);
                document.getElementById('nmr-container').innerHTML = 
                    '<p style="color: red;">Error initializing jsNMR: ' + e.message + '</p>';
            }
        };
    </script>
</head>
<body>
    <h1>Interactive NMR Spectrum Viewer</h1>
    <div id="nmr-container" style="width: 800px; height: 500px; border: 1px solid #ccc;"></div>
</body>
</html>